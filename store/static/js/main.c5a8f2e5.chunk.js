(this.webpackJsonpstore=this.webpackJsonpstore||[]).push([[0],{14:function(t,e,s){},15:function(t,e,s){},16:function(t,e,s){"use strict";s.r(e);var i=s(0),a=s(1),n=s.n(a),c=s(8),o=s.n(c),u=(s(14),s(4)),l=s(2),r=s(3),d=s(6),h=s(5),b=(s(15),function(t){Object(d.a)(s,t);var e=Object(h.a)(s);function s(t){var i;return Object(u.a)(this,s),(i=e.call(this,t)).state={title:i.props.title,price:i.props.price,amountOf:0,id:i.props.uid},i.setAmountOf=i.setAmountOf.bind(Object(l.a)(i)),i}return Object(r.a)(s,[{key:"setAmountOf",value:function(t){this.setState({amountOf:t.target.value}),this.props.updateItemList({id:this.state.id,amount:t.target.value*this.state.price})}}]),Object(r.a)(s,[{key:"render",value:function(){return Object(i.jsxs)("div",{className:"item",children:[Object(i.jsxs)("span",{class:"title",children:[this.props.title," | $",this.state.price]}),Object(i.jsx)("img",{src:this.props.img,alt:"foo"}),Object(i.jsx)("input",{onInput:this.setAmountOf,type:"number",min:"0",max:"100",value:this.state.amountOf}),Object(i.jsx)("span",{children:this.state.amountOf})]})}}]),s}(n.a.Component)),j=[{id:0,price:16,title:"Pan",img:"pan"},{id:1,price:4,title:"Hat",img:"hat"},{id:2,price:13,title:"tulip",img:"tulip"},{id:3,price:110,title:"game controller",img:"gc"}];var p=function(t){Object(d.a)(s,t);var e=Object(h.a)(s);function s(t){var i;return Object(u.a)(this,s),(i=e.call(this,t)).state={code:/^shop([0-9]+)$/,value:"",discounts:0},i.addDiscount=i.addDiscount.bind(Object(l.a)(i)),i}return Object(r.a)(s,[{key:"addDiscount",value:function(){var t=this.state.value;this.setState({value:""});var e=this.state.code.exec(t);if(e){var s=Number(e[1]);this.props.updateFunc(s)}else alert("invalid code")}},{key:"render",value:function(){var t=this;return Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{value:this.state.value,onChange:function(e){t.setState({value:e.target.value})}}),Object(i.jsx)("button",{onClick:this.addDiscount,children:"add discount"}),Object(i.jsxs)("div",{style:{display:0==this.state.discounts?"none":"block"},children:["discount applied: ",this.state.discounts,"%"]})]})}}]),s}(n.a.Component),O=function(t){Object(d.a)(s,t);var e=Object(h.a)(s);function s(t){var i;return Object(u.a)(this,s),(i=e.call(this,t)).state={initBalance:100,item_list:{},total:0,discount:0,subtotal:0,balance:100,points:0},i.updateItemList=i.updateItemList.bind(Object(l.a)(i)),i.addDiscount=i.addDiscount.bind(Object(l.a)(i)),i.Pay=i.Pay.bind(Object(l.a)(i)),i}return Object(r.a)(s,[{key:"setSubtotal",value:function(){var t=this.state.total,e=this.state.discount;console.log(t,e),this.setState({subtotal:t-e/100*t})}},{key:"Pay",value:function(){var t=this.state.total,e=this.state.balance;this.setState({discount:0,balance:e-this.state.subtotal,points:t},this.setSubtotal)}},{key:"setTotal",value:function(){var t=this,e=0;for(var s in this.state.item_list)e+=this.state.item_list[s];this.setState({total:e},(function(){t.setSubtotal()}))}},{key:"addDiscount",value:function(t){var e=this;this.setState({discount:t},(function(){e.setSubtotal()}))}},{key:"updateItemList",value:function(t){var e=t.id,s=t.amount,i=this.state.item_list;i[e]=s,this.setState({item_list:i}),this.setTotal(),console.log(this.state.total),console.log(i)}},{key:"render",value:function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("header",{children:Object(i.jsxs)("h1",{children:["Balance: $",this.state.balance]})}),Object(i.jsxs)("main",{children:[Object(i.jsx)("div",{}),Object(i.jsx)("div",{class:"items",children:(t=this.updateItemList,j.map((function(e){return Object(i.jsx)(b,{uid:e.id,img:"imgs/"+e.img+".jpg",title:e.title,price:e.price,updateItemList:t})})))}),Object(i.jsxs)("h3",{children:["Subtotal: $",this.state.total]}),Object(i.jsx)(p,{updateFunc:this.addDiscount}),Object(i.jsxs)("h3",{children:["Discount: ",this.state.discount,"%"]}),Object(i.jsxs)("h2",{children:["Total: $",this.state.subtotal]}),Object(i.jsx)("button",{onClick:this.Pay,disabled:this.state.subtotal>this.state.balance,children:"PAY"}),Object(i.jsxs)("div",{children:["You've paid for items amount to: $",this.state.points," in value"]})]}),Object(i.jsx)("footer",{})]});var t}}]),s}(n.a.Component),v=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,17)).then((function(e){var s=e.getCLS,i=e.getFID,a=e.getFCP,n=e.getLCP,c=e.getTTFB;s(t),i(t),a(t),n(t),c(t)}))};o.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(O,{})}),document.getElementById("root")),v()}},[[16,1,2]]]);
//# sourceMappingURL=main.c5a8f2e5.chunk.js.map