{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["Item","props","state","title","price","amountOf","id","uid","setAmountOf","bind","e","this","setState","target","value","updateItemList","amount","className","class","src","img","alt","onInput","type","min","max","React","Component","items","DiscountCode","code","discounts","addDiscount","old_value","match","exec","Number","updateFunc","alert","onChange","onClick","style","display","App","initBalance","item_list","total","discount","subtotal","balance","points","Pay","console","log","setSubtotal","il","setTotal","map","disabled","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c5a8f2e5.chunk.js","sourcesContent":["import './App.css';\nimport React, {useState} from 'react';\n\nclass Item extends React.Component {\n  setAmountOf (e) {\n    this.setState({amountOf: e.target.value});\n    this.props.updateItemList({id:this.state.id,amount:e.target.value * this.state.price})\n  }\n  constructor(props){\n    super(props);\n    this.state = {\n      title:this.props.title,\n      price:this.props.price,\n      amountOf:0,\n      id:this.props.uid\n    }\n    this.setAmountOf = this.setAmountOf.bind(this);\n  }\n\n  render () {\n    return (\n    <div className=\"item\">\n      <span class=\"title\">{this.props.title} | ${this.state.price}</span>\n      <img src={this.props.img} alt=\"foo\"/>\n      <input onInput={this.setAmountOf} type=\"number\" min=\"0\" max=\"100\" value={this.state.amountOf}/>\n      <span>{this.state.amountOf}</span>\n    </div>\n    )\n  }\n}\n\nvar items = [\n  {\n    id:0,\n    price:16,\n    title:\"Pan\",\n    img:\"pan\"\n  },\n  {\n    id:1,\n    price:4,\n    title:\"Hat\",\n    img:\"hat\"\n  },\n  {\n    id:2,\n    price:13,\n    title:\"tulip\",\n    img:\"tulip\"\n  },\n  {\n    id:3,\n    price:110,\n    title:\"game controller\",\n    img:\"gc\"\n  }\n];\n\nfunction getItems(updateFunc) {\n  return items.map((e)=>{\n    return <Item uid={e.id} img={\"imgs/\"+e.img+\".jpg\"} title={e.title} price={e.price} updateItemList={updateFunc}/>\n  })\n}\n\nclass DiscountCode extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      code:/^shop([0-9]+)$/,\n      value:\"\",\n      discounts:0\n    };\n    this.addDiscount = this.addDiscount.bind(this);\n  }\n  addDiscount(){\n    let old_value = this.state.value;\n    this.setState({value:\"\"});\n    let match = this.state.code.exec(old_value);\n    if(match){\n      let value = Number(match[1]);\n      this.props.updateFunc(value);\n    } else {\n      alert(\"invalid code\");\n    }\n  }\n  render () {\n    return (\n    <div>\n      <input value={this.state.value} onChange={(e)=>{this.setState({value:e.target.value})}}/>\n      <button onClick={this.addDiscount}>add discount</button>\n      <div style={{display:(this.state.discounts == 0)? 'none' : 'block'}}>discount applied: {this.state.discounts}%</div>\n    </div>\n    )\n  }\n}\n\nclass App extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      initBalance: 100,\n      item_list: {},\n      total:0,\n      discount:0,\n      subtotal:0,\n      balance:100,\n      points:0\n    }\n    this.updateItemList = this.updateItemList.bind(this);\n    this.addDiscount = this.addDiscount.bind(this);\n    this.Pay = this.Pay.bind(this);\n  }\n\n  setSubtotal() {\n    let total = this.state.total;\n    let discount = this.state.discount;\n    console.log(total,discount)\n    this.setState({subtotal:total - ((discount / 100)*total)})\n  }\n\n  Pay () {\n    let total = this.state.total;\n    let balance = this.state.balance;\n    this.setState({\n      discount:0,\n      balance:balance - this.state.subtotal,\n      points:total\n    },this.setSubtotal)\n  }\n\n  setTotal() {\n    let total = 0;\n    for(let id in this.state.item_list){\n      total += this.state.item_list[id];\n    }\n    this.setState({\n      total:total\n    },()=>{\n      this.setSubtotal()\n    })\n  }\n\n  addDiscount (value) {\n    this.setState({\n      discount:value\n    },()=>{\n      this.setSubtotal()\n    })\n  }\n\n  updateItemList({id,amount}) {\n    let il = this.state.item_list;\n    il[id] = amount;\n    this.setState({item_list:il})\n    this.setTotal();\n    console.log(this.state.total)\n    console.log(il)\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header>\n          <h1>Balance: ${this.state.balance}</h1>\n          \n        </header>\n        <main>\n          <div>\n\n          </div>\n          <div class='items'>{getItems(this.updateItemList)}</div>\n          <h3>Subtotal: ${this.state.total}</h3>\n          <DiscountCode updateFunc={this.addDiscount}/>\n          <h3>Discount: {this.state.discount}%</h3>\n          <h2>Total: ${this.state.subtotal}</h2>\n          <button onClick={this.Pay} disabled={this.state.subtotal > this.state.balance}>PAY</button>\n          <div>\n            You've paid for items amount to: ${this.state.points} in value\n          </div>\n        </main>\n        <footer>\n  \n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}